
<div class="storefront-page">
  
  <app-mabo-navbar></app-mabo-navbar>





  <section class="carousel-section">
    <h2>Featured</h2>
  
    <ng-container *ngIf="featuredGame as g; else favLoading" >
      <div class="carousel">
        <div class="slide">
          <img class="slide-img" [src]="getGameImage(g)" [alt]="g.name" />
          <div class="slide-overlay">
            <div class="slide-title">{{ g.name }}</div>
            <div class="slide-sub">{{ g.publisherName }}</div>
            <div class="slide-price">{{ g.price | number:'1.2-2' }} KM</div>
          </div>
        </div>
      </div>
    </ng-container>
  
    <ng-template #favLoading>
      <div class="carousel-placeholder">Loading favourite...</div>
    </ng-template>
  </section>
  



  <section class="carousel-section">
    <h2>Newest Releases</h2>

    <div class="carousel" *ngIf="newestGames.length > 0; else newestEmpty">
      <!-- Left button -->
      <button
      type="button"
      class="nav-btn left"
      (click)="prevNewest()"
      [disabled]="newestGames.length <= 1"
      aria-label="Previous game"
      >
        ‹
      </button>

      <!-- Slide -->
      <div class="slide">
        <img
          class="slide-img"
          [src]="getGameImage(newestGames[newestIndex])"
          [alt]="newestGames[newestIndex].name"
        />

        <!-- Overlay info -->
        <div class="slide-overlay">
          <div class="slide-title">{{ newestGames[newestIndex].name }}</div>
          <div class="slide-sub">{{ newestGames[newestIndex].publisherName }}</div>
          <div class="slide-price">{{ newestGames[newestIndex].price | number:'1.2-2' }} KM</div>
        </div>
      </div>

      <!-- Right button -->
      <button
        type="button"
        class="nav-btn right"
        (click)="nextNewest()"
        [disabled]="newestGames.length <= 1"
        aria-label="Next game"
      >
        ›
      </button>
    </div>

    <ng-template #newestEmpty>
      <div class="carousel-placeholder">No games yet.</div>
    </ng-template>
  </section>
  
  
<section class="carousel-section">
  <h2>Cheapest</h2>
  <ng-container *ngIf="cheapestGames.length>0; else cheapestEmpty">
    <div class="games-grid">
      <a class="game-card" *ngFor="let g of cheapestGames" [routerLink]="['/public/games', g.id]">
        <img class="game-card-img" [src]="g.coverImageURL" [alt]="g.name" />
        <div class="game-card-meta">
          <div class="game-card-title">{{ g.name }}</div>
          <div class="game-card-sub">{{ g.publisherName }}</div>
          <div class="game-card-price">{{ g.price | number:'1.2-2' }} KM</div>
        </div>
      </a>
    </div>
  </ng-container>
   <ng-template #cheapestEmpty>
    <div class="carousel-placeholder">No cheap games yet.</div>
  </ng-template>
</section>


    
<app-mabo-footer></app-mabo-footer>

</div>